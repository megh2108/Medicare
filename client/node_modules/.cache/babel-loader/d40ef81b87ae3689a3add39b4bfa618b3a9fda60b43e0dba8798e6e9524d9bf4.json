{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useEffect } from 'react';\nimport { Navigate, useNavigate } from \"react-router-dom\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Logout = () => {\n  _s();\n  const navigate = useNavigate();\n  useEffect(() => {\n    const userLogoutPromise = fetch('http://localhost:6004/user-logout', {\n      method: \"GET\",\n      headers: {\n        Accept: 'application/json',\n        \"Content-Type\": \"application/json\"\n      },\n      credentials: 'include'\n    });\n    const doctorLogoutPromise = fetch('http://localhost:6004/doctor-logout', {\n      method: \"GET\",\n      headers: {\n        Accept: 'application/json',\n        \"Content-Type\": \"application/json\"\n      },\n      credentials: 'include'\n    });\n    const googleLogoutPromise = fetch('http://localhost:6004/google-logout', {\n      method: \"GET\",\n      headers: {\n        Accept: 'application/json',\n        \"Content-Type\": \"application/json\"\n      },\n      credentials: 'include'\n    });\n    const logoutRequests = Promise.all([userLogoutPromise, doctorLogoutPromise, googleLogoutPromise]);\n    logoutRequests.then(responses => {\n      if (responses.status == 200) {\n        navigate('/Login');\n      } else if (responses.status == 201) {\n        navigate('/Login');\n      }\n      const hasError = responses.some(res => res.status !== 200);\n      if (hasError) {\n        const error = new Error('Logout failed.');\n        throw error;\n      }\n\n      // Navigate to the login page after successful logout\n      // navigate('/Login');\n    }).catch(err => {\n      console.error(err);\n    });\n  }, []);\n\n  // useEffect(() => {\n\n  //     fetch('http://localhost:6004/logout', {\n  //         method: \"GET\",\n  //         headers: {\n  //             Accept: \"appllication/json\",\n  //             \"Content-Type\": \"application/json\"\n  //         },\n  //         credentials: \"include\"\n\n  //     }).then((res) => {\n  //         // dispatch({ type: \"USER\", payload: false })\n  //         navigate('/Login');\n  //         if (res.status != 200) {\n  //             const error = new Error(res.error);\n  //             throw error;\n  //         }\n  //     }).catch((err) => {\n  //         console.log(err);\n  //     });\n  // },[]);\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false);\n};\n_s(Logout, \"0pNeyzXk/ByIxyERsdaIrG6js9s=\", false, function () {\n  return [useNavigate];\n});\n_c = Logout;\nexport default Logout;\nvar _c;\n$RefreshReg$(_c, \"Logout\");","map":{"version":3,"names":["React","useEffect","Navigate","useNavigate","Fragment","_Fragment","jsxDEV","_jsxDEV","Logout","_s","navigate","userLogoutPromise","fetch","method","headers","Accept","credentials","doctorLogoutPromise","googleLogoutPromise","logoutRequests","Promise","all","then","responses","status","hasError","some","res","error","Error","catch","err","console","_c","$RefreshReg$"],"sources":["H:/BVM/8th SEM Subject/Medicare/client/src/Components/General/Logout/Logout.js"],"sourcesContent":["import React, { useEffect } from 'react'\r\nimport { Navigate, useNavigate } from \"react-router-dom\";\r\n\r\n\r\nconst Logout = () => {\r\n\r\n    const navigate = useNavigate();\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        const userLogoutPromise = fetch('http://localhost:6004/user-logout', {\r\n            method: \"GET\",\r\n            headers: {\r\n                Accept: 'application/json',\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            credentials: 'include',\r\n        });\r\n        const doctorLogoutPromise = fetch('http://localhost:6004/doctor-logout', {\r\n            method: \"GET\",\r\n            headers: {\r\n                Accept: 'application/json',\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            credentials: 'include',\r\n        });\r\n        const googleLogoutPromise = fetch('http://localhost:6004/google-logout', {\r\n            method: \"GET\",\r\n            headers: {\r\n                Accept: 'application/json',\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            credentials: 'include',\r\n        });\r\n        const logoutRequests = Promise.all([userLogoutPromise, doctorLogoutPromise, googleLogoutPromise]);\r\n\r\n        logoutRequests.then((responses) => {\r\n\r\n            if (responses.status == 200) {\r\n                navigate('/Login');\r\n            }\r\n            else if (responses.status == 201) {\r\n                navigate('/Login');\r\n            }\r\n\r\n            const hasError = responses.some((res) => res.status !== 200);\r\n\r\n            if (hasError) {\r\n                const error = new Error('Logout failed.');\r\n                throw error;\r\n            }\r\n\r\n            // Navigate to the login page after successful logout\r\n            // navigate('/Login');\r\n        }).catch((err) => {\r\n            console.error(err);\r\n        });\r\n    }, []);\r\n\r\n    // useEffect(() => {\r\n\r\n    //     fetch('http://localhost:6004/logout', {\r\n    //         method: \"GET\",\r\n    //         headers: {\r\n    //             Accept: \"appllication/json\",\r\n    //             \"Content-Type\": \"application/json\"\r\n    //         },\r\n    //         credentials: \"include\"\r\n\r\n    //     }).then((res) => {\r\n    //         // dispatch({ type: \"USER\", payload: false })\r\n    //         navigate('/Login');\r\n    //         if (res.status != 200) {\r\n    //             const error = new Error(res.error);\r\n    //             throw error;\r\n    //         }\r\n    //     }).catch((err) => {\r\n    //         console.log(err);\r\n    //     });\r\n    // },[]);\r\n\r\n    return (\r\n        <>\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Logout\r\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,SAASC,QAAQ,EAAEC,WAAW,QAAQ,kBAAkB;AAAC,SAAAC,QAAA,IAAAC,SAAA;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAGzD,MAAMC,MAAM,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAEjB,MAAMC,QAAQ,GAAGP,WAAW,CAAC,CAAC;EAG9BF,SAAS,CAAC,MAAM;IAEZ,MAAMU,iBAAiB,GAAGC,KAAK,CAAC,mCAAmC,EAAE;MACjEC,MAAM,EAAE,KAAK;MACbC,OAAO,EAAE;QACLC,MAAM,EAAE,kBAAkB;QAC1B,cAAc,EAAE;MACpB,CAAC;MACDC,WAAW,EAAE;IACjB,CAAC,CAAC;IACF,MAAMC,mBAAmB,GAAGL,KAAK,CAAC,qCAAqC,EAAE;MACrEC,MAAM,EAAE,KAAK;MACbC,OAAO,EAAE;QACLC,MAAM,EAAE,kBAAkB;QAC1B,cAAc,EAAE;MACpB,CAAC;MACDC,WAAW,EAAE;IACjB,CAAC,CAAC;IACF,MAAME,mBAAmB,GAAGN,KAAK,CAAC,qCAAqC,EAAE;MACrEC,MAAM,EAAE,KAAK;MACbC,OAAO,EAAE;QACLC,MAAM,EAAE,kBAAkB;QAC1B,cAAc,EAAE;MACpB,CAAC;MACDC,WAAW,EAAE;IACjB,CAAC,CAAC;IACF,MAAMG,cAAc,GAAGC,OAAO,CAACC,GAAG,CAAC,CAACV,iBAAiB,EAAEM,mBAAmB,EAAEC,mBAAmB,CAAC,CAAC;IAEjGC,cAAc,CAACG,IAAI,CAAEC,SAAS,IAAK;MAE/B,IAAIA,SAAS,CAACC,MAAM,IAAI,GAAG,EAAE;QACzBd,QAAQ,CAAC,QAAQ,CAAC;MACtB,CAAC,MACI,IAAIa,SAAS,CAACC,MAAM,IAAI,GAAG,EAAE;QAC9Bd,QAAQ,CAAC,QAAQ,CAAC;MACtB;MAEA,MAAMe,QAAQ,GAAGF,SAAS,CAACG,IAAI,CAAEC,GAAG,IAAKA,GAAG,CAACH,MAAM,KAAK,GAAG,CAAC;MAE5D,IAAIC,QAAQ,EAAE;QACV,MAAMG,KAAK,GAAG,IAAIC,KAAK,CAAC,gBAAgB,CAAC;QACzC,MAAMD,KAAK;MACf;;MAEA;MACA;IACJ,CAAC,CAAC,CAACE,KAAK,CAAEC,GAAG,IAAK;MACdC,OAAO,CAACJ,KAAK,CAACG,GAAG,CAAC;IACtB,CAAC,CAAC;EACN,CAAC,EAAE,EAAE,CAAC;;EAEN;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA,oBACIxB,OAAA,CAAAF,SAAA,mBAEE,CAAC;AAEX,CAAC;AAAAI,EAAA,CAnFKD,MAAM;EAAA,QAESL,WAAW;AAAA;AAAA8B,EAAA,GAF1BzB,MAAM;AAqFZ,eAAeA,MAAM;AAAA,IAAAyB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}