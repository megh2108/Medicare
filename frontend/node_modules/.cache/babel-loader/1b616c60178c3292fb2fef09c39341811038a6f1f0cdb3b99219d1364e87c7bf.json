{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useEffect } from 'react';\nimport { Navigate, useNavigate } from \"react-router-dom\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Logout = () => {\n  _s();\n  const navigate = useNavigate();\n  const logout = async () => {\n    const response = await fetch('http://localhost:6004/logout', {\n      method: \"GET\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\"\n      },\n      credentials: \"include\"\n    });\n    const res = await response.json();\n    console.log(res);\n    if (response.status === 200) {\n      // Successful logout\n      // dispatch({ type: \"USER\", payload: false });\n      navigate('/Login');\n    } else {\n      // Handle error for non-200 status\n      const error = new Error(res.error || \"Logout failed\");\n      throw error;\n      // const errorRes = await response.json();\n      // throw new Error(errorRes.error || \"Logout failed\");\n    }\n  };\n  useEffect(() => {\n    logout();\n  }, []);\n  useEffect(() => {\n    fetch('/logout', {\n      method: \"GET\",\n      headers: {\n        Accept: \"appllication/json\",\n        \"Content-Type\": \"application/json\"\n      },\n      credentials: \"include\"\n    }).then(res => {\n      dispatch({\n        type: \"USER\",\n        payload: false\n      });\n      navigate('/Login');\n      if (res.status != 200) {\n        const error = new Error(res.error);\n        throw error;\n      }\n    }).catch(err => {\n      console.log(err);\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false);\n};\n_s(Logout, \"khgsfvlVLpWikUdAayORL272oMo=\", false, function () {\n  return [useNavigate];\n});\n_c = Logout;\nexport default Logout;\nvar _c;\n$RefreshReg$(_c, \"Logout\");","map":{"version":3,"names":["React","useEffect","Navigate","useNavigate","Fragment","_Fragment","jsxDEV","_jsxDEV","Logout","_s","navigate","logout","response","fetch","method","headers","Accept","credentials","res","json","console","log","status","error","Error","then","dispatch","type","payload","catch","err","_c","$RefreshReg$"],"sources":["H:/BVM/8th SEM Subject/Medicare/client/src/Components/General/Logout/Logout.js"],"sourcesContent":["import React, { useEffect } from 'react'\r\nimport { Navigate, useNavigate } from \"react-router-dom\";\r\n\r\n\r\nconst Logout = () => {\r\n\r\n    const navigate = useNavigate();\r\n\r\n    const logout = async () => {\r\n        const response = await fetch('http://localhost:6004/logout', {\r\n            method: \"GET\",\r\n            headers: {\r\n                Accept: \"application/json\",\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            credentials: \"include\"\r\n        });\r\n\r\n        const res = await response.json();\r\n        console.log(res);\r\n\r\n        if (response.status === 200) {\r\n            // Successful logout\r\n            // dispatch({ type: \"USER\", payload: false });\r\n            navigate('/Login');\r\n        } else {\r\n            // Handle error for non-200 status\r\n            const error = new Error(res.error || \"Logout failed\");\r\n            throw error;\r\n            // const errorRes = await response.json();\r\n            // throw new Error(errorRes.error || \"Logout failed\");\r\n        }\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        logout();\r\n    },[]);\r\n    useEffect(() => {\r\n\r\n        fetch('/logout', {\r\n            method: \"GET\",\r\n            headers: {\r\n                Accept: \"appllication/json\",\r\n                \"Content-Type\": \"application/json\"\r\n            },\r\n            credentials: \"include\"\r\n    \r\n        }).then((res) => {\r\n            dispatch({ type: \"USER\", payload: false })\r\n            navigate('/Login');\r\n            if (res.status != 200) {\r\n                const error = new Error(res.error);\r\n                throw error;\r\n            }\r\n        }).catch((err) => {\r\n            console.log(err);\r\n        });\r\n    },[]);\r\n\r\n    return (\r\n        <>\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Logout\r\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,SAASC,QAAQ,EAAEC,WAAW,QAAQ,kBAAkB;AAAC,SAAAC,QAAA,IAAAC,SAAA;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAGzD,MAAMC,MAAM,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAEjB,MAAMC,QAAQ,GAAGP,WAAW,CAAC,CAAC;EAE9B,MAAMQ,MAAM,GAAG,MAAAA,CAAA,KAAY;IACvB,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,8BAA8B,EAAE;MACzDC,MAAM,EAAE,KAAK;MACbC,OAAO,EAAE;QACLC,MAAM,EAAE,kBAAkB;QAC1B,cAAc,EAAE;MACpB,CAAC;MACDC,WAAW,EAAE;IACjB,CAAC,CAAC;IAEF,MAAMC,GAAG,GAAG,MAAMN,QAAQ,CAACO,IAAI,CAAC,CAAC;IACjCC,OAAO,CAACC,GAAG,CAACH,GAAG,CAAC;IAEhB,IAAIN,QAAQ,CAACU,MAAM,KAAK,GAAG,EAAE;MACzB;MACA;MACAZ,QAAQ,CAAC,QAAQ,CAAC;IACtB,CAAC,MAAM;MACH;MACA,MAAMa,KAAK,GAAG,IAAIC,KAAK,CAACN,GAAG,CAACK,KAAK,IAAI,eAAe,CAAC;MACrD,MAAMA,KAAK;MACX;MACA;IACJ;EAEJ,CAAC;EAEDtB,SAAS,CAAC,MAAM;IACZU,MAAM,CAAC,CAAC;EACZ,CAAC,EAAC,EAAE,CAAC;EACLV,SAAS,CAAC,MAAM;IAEZY,KAAK,CAAC,SAAS,EAAE;MACbC,MAAM,EAAE,KAAK;MACbC,OAAO,EAAE;QACLC,MAAM,EAAE,mBAAmB;QAC3B,cAAc,EAAE;MACpB,CAAC;MACDC,WAAW,EAAE;IAEjB,CAAC,CAAC,CAACQ,IAAI,CAAEP,GAAG,IAAK;MACbQ,QAAQ,CAAC;QAAEC,IAAI,EAAE,MAAM;QAAEC,OAAO,EAAE;MAAM,CAAC,CAAC;MAC1ClB,QAAQ,CAAC,QAAQ,CAAC;MAClB,IAAIQ,GAAG,CAACI,MAAM,IAAI,GAAG,EAAE;QACnB,MAAMC,KAAK,GAAG,IAAIC,KAAK,CAACN,GAAG,CAACK,KAAK,CAAC;QAClC,MAAMA,KAAK;MACf;IACJ,CAAC,CAAC,CAACM,KAAK,CAAEC,GAAG,IAAK;MACdV,OAAO,CAACC,GAAG,CAACS,GAAG,CAAC;IACpB,CAAC,CAAC;EACN,CAAC,EAAC,EAAE,CAAC;EAEL,oBACIvB,OAAA,CAAAF,SAAA,mBAEE,CAAC;AAEX,CAAC;AAAAI,EAAA,CA7DKD,MAAM;EAAA,QAESL,WAAW;AAAA;AAAA4B,EAAA,GAF1BvB,MAAM;AA+DZ,eAAeA,MAAM;AAAA,IAAAuB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}